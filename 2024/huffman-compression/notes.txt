# 2024-08-12
- Write a huffman compression algorithm.
- Take text, produce huffman encoded bytes plus huffman tree.
- Do reverse also.
- Algorithm:
  - https://cgi.luddy.indiana.edu/~yye/c343-2019/huffman.php
  - Compressing:
    - Count every character's frequency.
    - Make every character a single node tree with the frequency as the weight.
    - Put all trees into a priority queue biased by weight, smaller is more front.
    - While queue size > 1:
      - Join front two trees in queue with the weight summed together and put back in queue.
    - Huffman tree built.
    - Use tree to create encoding table.
      - For each leaf, use the left/right traversal path as its encoded code e.g. left left right left is 0010.
    - Rewrite entire original text in terms of these codes.
    - Store tree next to encoded text.
  - Decompressing:
    - Read bits one by one and use them to traverse the huffman tree.
    - Once you hit a leaf node use that character as the next character of the decompressed output.
    - Repeat until done.
- Lol asked Claude to do it and it did: https://claude.site/artifacts/e02a34e4-4d90-4764-b70a-806cfa741824
  - <the above notes> -> "11000101110000101111110100111010111000011100110110100001011111100101011010101110001011010011011101000110101011111001000101000010100001000011101110011101011110100110000100001000011111101011100110010001011100111111100111111111010100000100011000101001100001100000111000111100001010000100110000000110000100111000000011000111000010001011000111110011111000010100010100101000011011101111101100101111111110011110100001101010000011010110101011100010111000000110111001011000110000010010101101011110011001001110111100101011010101010111000101110000001101110011011001110101100101100101000000000111010010010100111110000111110010011011000000110000110110101011110110000100001010100110100110010010000011111101010110101010101110001011100001110111111100000101000110010110010100000000011101001001010011111000011111001001101100000001111110110101111001100100111011110110001110011011100010100011101000010010001001111011100110110100011101101001000111101100001000010101001101001100100100000111011111110101011101101001000100111101001110000111010100110111101010110101010101110001011100001111001101101011111111110111110101110100001001001010101111001100111011011101111110100011000001110010111000011100110100011101001010100110100001101000100111111110011111101011000001001001111100011101001111010011100001110101001101110000011011010100101111111111101111101100000001111001010101001011101110000100011110110000101111100111011110101011010101010111000101111100000010100111001111011000100101010011010000110100011010111100111100000110001111100001001111100111111100101011010101010101011100010111110000111011111100110010111101100001011111001110101110100111101011101110100001001001010101111001100101001010100110100001101000100111101110011011010001110110100100010011110100111000011101010011010110101001100010110010111000001001110110111001110100110110100100000001111111100100010010001100011011010100111111111100100110000010011110011001010010101001101000011010011101010110101010101110001011111000100001101110111110110010111111111001011101000010010001001111100110111001111011101111010101101010101011100010111110001011010110001110100001001000111011011101001000000100111111101100011001100100100101110001011100110010011100111011111100111111111011001110101011010101010101011100010111110001101011100000110011111001001010001111101100111111110111100000110100110101011000111011010010001111101100111011110100101000000111000011101010011010111010000111111011001010000001010111111111101010001101111111011010001111111010101111001101101010110011001001001011100010100000100100100101110001010001100111010001110111010011111011001110111101011111011001110111101010000111000011101010011010111110110011101111010111100101010110110001101100011111001111011000111101010110101010101110001011011000010000111100000111001101100011001100111011110000001000110111000011100001110111001100111111111101011101100101100111101011110011001011101100000000101110101011011111101101110110100100101011000100100101110001010010101111010101101010101011100010111110001111101101110000100011101000010010001110011001011001111010111011011101100110010010010111000101000001001110110010110011110111101010110101011100010111110011001000010010111001011000110000010010101101011110011001001110111100101011010101010111000101101100001001111100010010011111111001101101010110111110011000100111110001110110111110011000111111110010001001001101010110001110110100100001011011101101110111010000111111011001010000001010110001110110100100011010000110111011111011001011111111100101110100001001001110101011010101010111000101111100110111001001001000100011110111001100110100111001101011111101111101100111111110110111001101110001010001001101010110001110110100111111101010010010100111110000111110010011011000000011111110101011101101001000111001100101100111101010010010100111110000111110010011011000000011011111101101110110100100010001010000100101110010110001100000100101011010110000010011011100110110100011000110110111101010110101010101110001011011000010000011010011111110101001101100111011110011110101000101011111001100111010", 55% of original size.
  - "dog dog dog dog" -> "011011000110110001101100011011", 25% of original size.
  - "pants and dog" -> "11100111001111000101011100110101110001010", 39% of original size.
- Will verify Claude by manual implementation comparison.
  - Manual implementation got the same answer as Claude for "pants and dog": 11100111001111000101011100110101110001010
- What if input is one character repeated a bunch.
  - Tree is broken, no left or right.
  - Cannot decode.
  - Need to make it a special case probably.
- What if input is empty?
  - Maybe just use the repeated character case and say it repeats 0.
- Asking Claude about how to seralise the huffman tree.
  - https://claude.site/artifacts/cfe8715a-9201-4435-94da-56e307687824
  - Use pre-order traversal.
    - Put parent node before children.
    - Middle left right.
    - Opposite of polish notation.
  - Makes sense!!
  - Nothing to do anymore with AI working everything out.
  - Goodbye software engineering jobs.
